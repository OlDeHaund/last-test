# План тестирования juuksurPHP (Selenium)

**Дата:** 2025-11-03  
**Тип:** Теоретическое E2E‑тестирование (без фактического прогона)  
**Инструменты:** Selenium (Python, PyTest), pytest-html (для отчётов), webdriver-manager

## 1. Цели
- Подтвердить, что критические пользовательские сценарии (аутентификация, управление клиентами/мастерами, бронирование, просмотр заказов) работают согласно требованиям.
- Зафиксировать набор тестов и ожидаемых результатов «как в референсах» с указанием возможных расхождений.

## 2. Объём
Покрываются разделы сайта:
- `login.php`, `logout.php`, `registration.php`, `parool.php` (аутентификация).
- `kliendid.php` (CRUD клиентов).
- `juuksurid.php` (CRUD мастеров; доступ только `onadmin=1`).
- `broneering.php` (создание бронирования/заказа).
- `tellimused.php` (список заказов).
- Навигация: `avaleht.php`, `nav.php`, `header.php`, `footer.php`.

## 3. Предпосылки и среда
- Локальная среда XAMPP/Apache + PHP 8.x (или совместимая).
- Тестовые пользователи: `admin`, `tootaja`, `kasutaja` (логины/пароли задаются в `config.json`).
- **БД считается существующей и корректной** (таблицы: Klient, Juuksur, Teenus, Tellimus, Пользователи). На практике БД отсутствует — проверки привязки к данным формулируются теоретически.
- Данные начального наполнения: минимум 1 Juuksur, 1 Teenus, 1 Klient.

## 4. Риски и допущения
- Разметка страницы может отличаться от референсов (другие селекторы, классы, тексты).
- Роли и права (`onadmin`) определены через `$_SESSION`; поведение может отличаться от типовой RBAC‑модели в референсах.
- Возможны отличия названий полей и схемы БД (например, `teenuS_id` vs `teenus_id` в коде).

## 5. Критерии входа
- Доступно приложение по `base_url`.
- Известны тестовые учётные записи.
- Стабильный браузер (Chrome).

## 6. Критерии выхода
- Выполнены тест‑кейсы из `TEST_CASES.csv`.
- Зафиксированы результаты и дефекты (`REPORT.md`, `defects.csv`).

## 7. Типы тестов
- Функциональное E2E.
- Ролевое тестирование (admin vs non‑admin).
- Негативные кейсы (неверные пароли, пустые поля, 403 при доступе к admin‑страницам).

## 8. Инструменты
- Selenium + PyTest (Python), webdriver-manager, pytest-html.
- Отчётность: ручной отчёт `REPORT.md` + (теоретически) `pytest --html=report.html`.

## 9. График
- Подготовка сценариев и окружения — 1 день.
- Теоретическое выполнение и фиксация результатов — 1 день.

## 10. Метрики
- Процент пройденных тестов.
- Количество дефектов по приоритетам.
